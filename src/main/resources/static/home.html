<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Suchtool</title>
    <script>
        // Funktion zum Umschalten zwischen den Suchmodi
        function toggleSearchMode() {
            var searchMode = document.getElementById("searchMode").value;
            if (searchMode === "files") {
                document.getElementById("fileSearch").style.display = "block";
                document.getElementById("webSearch").style.display = "none";
            } else if (searchMode === "web") {
                document.getElementById("fileSearch").style.display = "none";
                document.getElementById("webSearch").style.display = "block";
            }
        }

        function searchFiles() {
            const keyword = document.getElementById('fileSearchInput').value;

            fetch(`/searchFolders?keyword=${encodeURIComponent(keyword)}`)
                .then(response => response.json())
                .then(data => {
                    console.log(data); // Verarbeite die Suchergebnisse hier
                    // Beispiel zur Anzeige der Ergebnisse auf der Webseite:
                    const resultsElement = document.getElementById('searchResults');
                    resultsElement.innerHTML = ''; // Löscht frühere Suchergebnisse
                    data.forEach(file => {
                        const li = document.createElement('li');
                        li.textContent = file;
                        resultsElement.appendChild(li);
                    });
                })
                .catch(error => console.error('Fehler bei der Suche', error));
        }

        function searchWeb() {
            const url = document.getElementById('webSearchInput').value;

            fetch(`/searchWeb?url=${encodeURIComponent(url)}`)
                .then(response => response.json())
                .then(data => {
                    console.log(data); // Verarbeite die Suchergebnisse hier, z.B. durch Anzeigen auf der Webseite
                    // Hier könnte ähnlich wie bei searchFiles() eine Logik zur Anzeige der Ergebnisse implementiert werden.
                })
                .catch(error => console.error('Fehler bei der Websuche', error));
        }
    </script>
</head>
<body>

<h2>Suchtool</h2>

<!-- Dropdown-Menü zum Auswählen des Suchmodus -->
<select id="searchMode" onchange="toggleSearchMode()">
    <option value="files">Dateien suchen</option>
    <option value="web">Im Internet suchen</option>
</select>

<!-- Suchfelder für Dateien -->
<div id="fileSearch" style="display: block;">
    <input type="text" placeholder="Suchbegriff eingeben" id="fileSearchInput">
    <button onclick="searchFiles()">Suchen</button>
    <ul id="searchResults"></ul> <!-- Container für Suchergebnisse -->
</div>

<!-- Suchfeld für die Websuche -->
<div id="webSearch" style="display: none;">
    <input type="text" placeholder="HTTP-Link eingeben" id="webSearchInput">
    <button onclick="searchWeb()">Suchen</button>
    <!-- Container für Suchergebnisse der Websuche könnte hier hinzugefügt werden -->
</div>

</body>
</html>
